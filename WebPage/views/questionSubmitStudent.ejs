<% include header %>
<% include sidebar %>

        <style type="text/css">

            body {
                background: #ededed;
            }

            header h1 small:before  {
                content: "|";
                margin: 0 0.5em;
                font-size: 1.6em;
            }

            article header{
                padding: 0;
                overflow: hidden;
            }

            article footer {
                background: none;
            }

            article {
                padding-bottom: 2em;
                border-bottom: 1px solid #ccc;
            }

            .date {
                float: right;
            }

            summary {
                font-weight: 700;
                line-height: 1.5;
            }

            footer {
                background: #ccc;
            }
        </style>

    <body>

        <div class="ink-grid">

            <!--[if lte IE 9 ]>
            <div class="ink-alert basic" role="alert">
                <button class="ink-dismiss">&times;</button>
                <p>
                    <strong>You are using an outdated Internet Explorer version.</strong>
                    Please <a href="http://browsehappy.com/">upgrade to a modern  browser</a> to improve your web experience.
                </p>
            </div>
            <![endif]-->

            <!-- Add your site or application content here -->

            

            
			 
            <div class="column-group gutters article">
			 
			 
              
				<div class="all-60">
                    <article>
                        <header>
                            <h1 class="push-left">Question #1</h1>
                           
                        </header>
                        <summary>Draw a Chen-style ER diagram with two entities and a one-to-one relation between them.</summary>
                        <figure class="ink-image vertical-space">
                            <div id="myHolder" ></div>
                        </figure>
						<form action="questionFeedbackStudent">
						<button class = "ink-button" id="previous">Submit</button>
						</form>
						<form action="questionListStudent">
						<button class = "ink-button" id="next">Back</button>
						</form>
					
						
						
                    </article>
                </div>
				
				<div class="">
					        <div class="ink-grid">

            <!--[if lte IE 9 ]>
            <div class="ink-alert basic" role="alert">
                <button class="ink-dismiss">&times;</button>
                <p>
                    <strong>You are using an outdated Internet Explorer version.</strong>
                    Please <a href="http://browsehappy.com/">upgrade to a modern  browser</a> to improve your web experience.
                </p>
            </div>
            <![endif]-->

            <!-- Add your site or application content here -->

            

                
                <div id="toolbox" class="column-group gutters article">
                    <header>

                        <h1 class = "">TOOLBOX</h1>

                        <div class="ink-flex push-left vertical">
                        <!-- <form style="float: left" action=""> -->
                        <img id="t1" draggable="true" class="tool" src="attribute.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="padding-left: 10px" action=""> -->
                        <img id ="t2" draggable="true" class="tool" src="entity.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t3" draggable="true" class="tool" src="relationship.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t4" draggable="true" class="tool" src="text.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t5" draggable="true" class="tool" src="chenManyToMany.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t6" draggable="true" class="tool" src="chenManyToOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t7" draggable="true" class="tool" src="chenOneToMany.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t8" draggable="true" class="tool" src="chenOneToOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t9" draggable="true" class="tool" src="crowManyToMany.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        </div>
                        <div class="ink-flex push-left vertical">
                        <img id ="t10" draggable="true" class="tool" src="crowManyToOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t11" draggable="true" class="tool" src="crowOneToMany.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t12" draggable="true" class="tool" src="crowOneToOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t13" draggable="true" class="tool" src="oneAndOnlyOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t14" draggable="true" class="tool" src="oneOrMore.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t15" draggable="true" class="tool" src="zeroOrMore.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form action=""> -->
                        <img id ="t16" draggable="true" class="tool" src="zeroOrOne.jpg" name="image" width="48" height="48">
                        <!-- </form> -->
                        <!-- <form style="float: left" action=""> -->
                        <img id ="t17" draggable="true" class="tool" src="line.jpg" name="image" width="48" height="48"><br>
                        <!-- </form> -->
                       </div>

                       </header>
                </div>
                
                
            
            
        </div>

				</div>
				
				
			</div>	
            
            
        </div>
        
<% include footer %>

<link rel="stylesheet" type="text/css" href="http://www.jointjs.com/downloads/joint.css" />
<script type="text/javascript" src="http://www.jointjs.com/downloads/joint.js" ></script>
<script type="text/javascript" src="javascripts/joint.shapes.erd.js" > </script>
<script>
$(function () {
$(document).ready(function(){
var graph = new joint.dia.Graph;

var paper = new joint.dia.Paper({
    el: $('#myHolder'),
    width: 800,
    height: 600,
    gridSize: 1,
    model: graph
});

var erd = joint.shapes.erd;
console.log(erd)

var element = function(elm, x, y, label) {
    var cell = new elm({ position: { x: x, y: y }, attrs: { text: { text: label }}});
    graph.addCell(cell);
    return cell;
};

var link = function(elm1, elm2) {
    var myLink = new erd.Line({ source: { id: elm1.id }, target: { id: elm2.id }});
    graph.addCell(myLink);
    return myLink;
};

var x =100
var y = 100 
var Entities = [];
$("#t1").click(function(){
var temp = element(erd.Key, x, y, "Key");
Entities.push(temp);
x+=10
y+=5
});
$("#t2").click(function(){
var temp = element(erd.Entity, x, y, "Entity");
Entities.push(temp);
x+=10
y+=5
});
$("#t3").click(function(){
var temp = element(erd.IdentifyingRelationship, x, y, "IR");
Entities.push(temp)
x+=10
y+=5
});

$("#t5").click(function(){
link(Entities[Entities.length-1], Entities[Entities.length-2]).cardinality('M.....M')
Entities.remove(Entities[Entities.length-1])
Entities.remove(Entities[Entities.length-2])
x+=10
y+=5
})
$("#t6").click(function(){
link(Entities[Entities.length-1], Entities[Entities.length-2]).cardinality('M.....1')
Entities.remove(Entities[Entities.length-1])
Entities.remove(Entities[Entities.length-2])
x+=10
y+=5
})
$("#t7").click(function(){
link(Entities[Entities.length-1], Entities[Entities.length-2]).cardinality('1.....M')
Entities.remove(Entities[Entities.length-1])
Entities.remove(Entities[Entities.length-2])
x+=10
y+=5
})
$("#t8").click(function(){
link(Entities[Entities.length-1], Entities[Entities.length-2]).cardinality('1.....1')
Entities.remove(Entities[Entities.length-1])
Entities.remove(Entities[Entities.length-2])
x+=10
y+=5
})

$(document).keypress(function( event ) {
  if ( event.which == 13 ) {
     graph.clear()
     x = 100
     y = 100
  }
  
 
});

});
});
</script>
